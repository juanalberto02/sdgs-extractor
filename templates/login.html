<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Login</title>

  <!-- Tailwind (CDN) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            brand: '#0165a4',
            'brand-soft': '#e7f1fa',
          },
          boxShadow: { card: '0 6px 28px rgba(1,101,164,0.08)' },
          borderRadius: { xl2: '1.25rem' }
        }
      }
    }
  </script>
  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>html,body{font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif}</style>
</head>
<body class="bg-white text-slate-800">
  <!-- NAVBAR (STATIC / TIDAK NGIKUT) -->
  <header class="bg-brand text-white shadow-sm">
    <div class="mx-auto max-w-7xl px-4 sm:px-6">
      <div class="flex h-16 items-center justify-between">
        <!-- Left: Logo -->
        <a href="/" class="flex items-center gap-3">
          <img src="/assets/img/Unair Branding.png" alt="UNAIR" class="h-9" />
        </a>
  
        <!-- Mobile toggle -->
        <button id="navToggle" class="md:hidden inline-flex items-center justify-center w-10 h-10 rounded-lg hover:bg-brand/80">
          <svg width="20" height="20" fill="none" viewBox="0 0 24 24" class="text-white">
            <path stroke="currentColor" stroke-width="2" d="M4 7h16M4 12h16M4 17h16"/>
          </svg>
        </button>
  
        <!-- Menu (Desktop) -->
        <nav id="navMenu" class="hidden md:flex items-center gap-6">
        </nav>
      </div>
    </div>
  </header>

  <!-- MAIN -->
  <main class="mx-auto max-w-7xl px-4 sm:px-6 pt-8 pb-10">
    <section class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
      <!-- Illustration -->
      <div class="hidden md:block">
        <div class="rounded-2xl border border-slate-200 bg-white shadow-card overflow-hidden">
          <img src="assets/img/illustrations/the-global-goals-grid-color.svg" alt="SDGs Grid" class="w-full h-full object-contain">
        </div>
      </div>

      <!-- Login Card -->
      <div>
        <div class="rounded-2xl border border-slate-200 bg-white shadow-card p-6 sm:p-8">
          <h1 class="text-2xl font-semibold text-slate-800">Welcome back</h1>
          <p class="mt-1 text-slate-600 text-sm">Masuk untuk melanjutkan.</p>

          <form method="post" action="/login" class="mt-6 space-y-4" id="login-form">
            <!-- Username / Email -->
            <div>
              <label for="username" class="block text-sm font-medium text-slate-700">Email / Username</label>
              <div class="mt-1 relative">
                <input id="username" name="username" type="text" required autocomplete="username"
                  class="w-full rounded-xl border border-slate-300 bg-white px-3 py-2 h-11 text-sm focus:outline-none focus:ring-4 focus:ring-brand/20 focus:border-brand"
                  placeholder="you@example.com" />
              </div>
            </div>

            <!-- Password -->
            <div>
              <label for="password" class="block text-sm font-medium text-slate-700">Password</label>
              <div class="mt-1 relative">
                <input id="password" name="password" type="password" required autocomplete="current-password"
                  class="w-full rounded-xl border border-slate-300 bg-white px-3 py-2 h-11 pr-11 text-sm focus:outline-none focus:ring-4 focus:ring-brand/20 focus:border-brand"
                  placeholder="••••••••" />
                <button type="button" id="togglePass" class="absolute right-2 top-1/2 -translate-y-1/2 inline-flex items-center justify-center w-8 h-8 rounded-lg text-slate-500 hover:bg-slate-100">
                  <svg id="eyeIcon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6" d="M2.25 12s3.75-6.75 9.75-6.75S21.75 12 21.75 12s-3.75 6.75-9.75 6.75S2.25 12 2.25 12z"/><circle cx="12" cy="12" r="3.25"/></svg>
                </button>
              </div>
            </div>

            {% if error %}
            <div class="rounded-xl bg-red-50 text-red-700 px-4 py-3 text-sm border border-red-200">{{ error }}</div>
            {% endif %}

            <button type="submit" class="w-full inline-flex items-center justify-center gap-2 rounded-xl bg-brand px-5 py-3 text-white text-sm font-medium shadow hover:opacity-95 focus:outline-none focus:ring-4 focus:ring-brand/30 disabled:opacity-60" id="submitBtn">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" class="h-4 w-4"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6" d="M5 12h14M5 12l4-4m-4 4l4 4"/></svg>
              Log In
            </button>
          </form>

          <!-- Optional helper links -->
          <div class="mt-4 flex items-center justify-between text-sm">
            <a href="/" class="text-slate-500 hover:text-brand">← Kembali ke beranda</a>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- FOOTER (match Extraction/Analytics) -->
  <footer class="mt-auto text-center py-8 bg-brand text-white">
    <div class="mx-auto max-w-7xl px-4 sm:px-6">
      <img src="assets/img/Unair Branding.png" class="h-12 mx-auto mb-3" alt="UNAIR" />

      <ul class="flex items-center justify-center gap-4 mb-3">
        <li>
          <a href="https://x.com/Unair_Official" target="_blank" rel="noopener" aria-label="X (Twitter)"
             class="inline-flex items-center justify-center w-10 h-10 rounded-full border border-white/30 hover:bg-white/10 transition">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-white">
              <path d="M4 4l11.733 16h4.267L8.267 4z"></path>
              <path d="M4 20l6.768-6.768m2.46-2.46l6.772-6.772"></path>
            </svg>
          </a>
        </li>
        <li>
          <a href="https://www.instagram.com/univ_airlangga/" target="_blank" rel="noopener" aria-label="Instagram"
             class="inline-flex items-center justify-center w-10 h-10 rounded-full border border-white/30 hover:bg-white/10 transition">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-white">
              <path d="M4 8a4 4 0 0 1 4-4h8a4 4 0 0 1 4 4v8a4 4 0 0 1-4 4H8a4 4 0 0 1-4-4V8z"></path>
              <circle cx="12" cy="12" r="3"></circle>
              <path d="M16.5 7.5h.01"></path>
            </svg>
          </a>
        </li>
        <li>
          <a href="https://www.youtube.com/channel/UCUYwloXmWyNZplsqg4MVERw" target="_blank" rel="noopener" aria-label="YouTube"
             class="inline-flex items-center justify-center w-10 h-10 rounded-full border border-white/30 hover:bg-white/10 transition">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-white">
              <rect x="2" y="4" width="20" height="16" rx="4"></rect>
              <path d="M10 9l5 3-5 3z"></path>
            </svg>
          </a>
        </li>
      </ul>

      <div class="text-xs sm:text-sm opacity-90">Copyright © 2025 UNAIR</div>
    </div>
  </footer>

  <!-- SCRIPTS -->
  <script>
    // Toggle password visibility
    const pass = document.getElementById('password');
    const toggle = document.getElementById('togglePass');
    const icon = document.getElementById('eyeIcon');
    if (toggle) {
      toggle.addEventListener('click', ()=>{
        const is = pass.getAttribute('type') === 'password';
        pass.setAttribute('type', is ? 'text' : 'password');
        icon.innerHTML = is
          ? '<path d="M3 3l18 18"/><path d="M10.6 10.6A3.25 3.25 0 0112 8.75c1.8 0 3.25 1.45 3.25 3.25 0 .49-.11.95-.3 1.36"/><path d="M21.75 12s-3.75 6.75-9.75 6.75c-2.1 0-3.99-.61-5.58-1.56"/>'
          : '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6" d="M2.25 12s3.75-6.75 9.75-6.75S21.75 12 21.75 12s-3.75 6.75-9.75 6.75S2.25 12 2.25 12z"/><circle cx="12" cy="12" r="3.25"/>';
      });
    }

    // Disable button on submit (small UX polish)
    const form = document.getElementById('login-form');
    const btn = document.getElementById('submitBtn');
    if (form) {
        form.addEventListener('submit', ()=>{
        sessionStorage.setItem('afterLoginReset','1');   // <— tandai habis login
        btn.setAttribute('disabled', 'disabled');
        btn.innerHTML = '<svg class="animate-spin -ml-1 mr-2 h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path></svg>Memproses...';
      });
    }
  </script>
</body>
</html>
